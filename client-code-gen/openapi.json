{"openapi":"3.0.2","info":{"title":"Forest Access Management - FAM - API","description":"\nForest Access Management API used by the Forest Access Management application\nto Define who has access to what apps, and what roles they will operate under\n once access is granted.\n","contact":{"name":"Guy Lafleur","url":"https://en.wikipedia.org/wiki/Guy_Lafleur","email":"guy.lafleur@montreal.canadians.ca"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0.html"},"version":"0.0.1"},"paths":{"/fam_applications":{"get":{"tags":["FAM Applications"],"summary":"Get Applications","description":"List of different applications that are administered by FAM","operationId":"get_applications","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Applications","type":"array","items":{"$ref":"#/components/schemas/FamApplication"}}}}}}}},"/fam_applications/secure":{"get":{"tags":["FAM Applications"],"summary":"Get Applications Secure","operationId":"get_applications_secure","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Applications Secure","type":"array","items":{"$ref":"#/components/schemas/FamApplication"}}}}}},"security":[{"26tltjjfe7ktm4bte7av998d78":[]}]}},"/fam_applications/authorize":{"get":{"tags":["FAM Applications"],"summary":"Get Applications Authorized","operationId":"get_applications_authorized","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Applications Authorized","type":"array","items":{"$ref":"#/components/schemas/FamApplication"}}}}}},"security":[{"26tltjjfe7ktm4bte7av998d78":[]}]}},"/fam_applications/{application_id}/fam_roles":{"get":{"tags":["FAM Applications"],"summary":"Get Fam Application Roles","description":"gets the roles associated with an application\n\n:param application_id: application id\n:param db: database session, defaults to Depends(database.get_db)","operationId":"get_fam_application_roles","parameters":[{"required":true,"schema":{"title":"Application Id","type":"integer"},"name":"application_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Fam Application Roles","type":"array","items":{"$ref":"#/components/schemas/FamApplicationRole"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/fam_applications/{application_id}/fam_roles/authorize":{"get":{"tags":["FAM Applications"],"summary":"Get Fam Application Roles Authorize App","description":"gets the roles associated with an application\n\n:param application_id: application id\n:param db: database session, defaults to Depends(database.get_db)","operationId":"get_fam_application_roles_authorize_app","parameters":[{"required":true,"schema":{"title":"Application Id","type":"integer"},"name":"application_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Fam Application Roles Authorize App","type":"array","items":{"$ref":"#/components/schemas/FamApplicationRole"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"26tltjjfe7ktm4bte7av998d78":[]}]}},"/fam_applications/{application_id}/user_role_assignment":{"get":{"tags":["FAM Applications"],"summary":"Get Fam Application User Role Assignment","description":"gets the roles associated with an application\n\n:param application_id: application id\n:param db: database session, defaults to Depends(database.get_db)","operationId":"get_fam_application_user_role_assignment","parameters":[{"required":true,"schema":{"title":"Application Id","type":"integer"},"name":"application_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Fam Application User Role Assignment","type":"array","items":{"$ref":"#/components/schemas/FamApplicationUserRoleAssignmentGet"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/fam_users":{"get":{"tags":["FAM Users"],"summary":"Get Users","description":"List of different users that are administered by FAM","operationId":"get_users","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Users","type":"array","items":{"$ref":"#/components/schemas/FamUserGet"}}}}}}},"post":{"tags":["FAM Users"],"summary":"Create Fam User","description":"Add a user to FAM","operationId":"create_fam_user","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FamUser"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FamUserGet"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/fam_users/{user_id}":{"get":{"tags":["FAM Users"],"summary":"Get Fam User","description":"Get a FAM user","operationId":"get_fam_user","parameters":[{"required":true,"schema":{"title":"User Id","type":"integer"},"name":"user_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FamUserGet"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["FAM Users"],"summary":"Delete Fam User","description":"Delete a FAM user","operationId":"delete_fam_user","parameters":[{"required":true,"schema":{"title":"User Id","type":"integer"},"name":"user_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FamUser"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/fam_roles":{"get":{"tags":["FAM Roles"],"summary":"Get Fam Roles","description":"List of different roles that are administered by FAM","operationId":"get_fam_roles","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Fam Roles","type":"array","items":{"$ref":"#/components/schemas/FamRoleGet"}}}}}}},"post":{"tags":["FAM Roles"],"summary":"Create Fam Role","description":"Add a role to FAM","operationId":"create_fam_role","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FamRoleCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FamRoleGet"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/user_role_assignment":{"post":{"tags":["FAM User Role Assignment"],"summary":"Create User Role Assignment","description":"Create FAM user_role_xref association.","operationId":"create_user_role_assignment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FamUserRoleAssignmentCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FamUserRoleAssignmentGet"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/user_role_assignment/{user_role_xref_id}":{"delete":{"tags":["FAM User Role Assignment"],"summary":"Delete User Role Assignment","description":"Delete FAM user_role_xref association.","operationId":"delete_user_role_assignment","parameters":[{"required":true,"schema":{"title":"User Role Xref Id","type":"integer"},"name":"user_role_xref_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"FamApplication":{"title":"FamApplication","required":["application_name","application_description","application_id","create_user","create_date","update_user","update_date"],"type":"object","properties":{"application_name":{"title":"Application Name","type":"string"},"application_description":{"title":"Application Description","type":"string"},"application_client_id":{"title":"Application Client Id","type":"integer"},"application_id":{"title":"Application Id","type":"integer"},"create_user":{"title":"Create User","type":"string"},"create_date":{"title":"Create Date","type":"string","format":"date-time"},"update_user":{"title":"Update User","type":"string"},"update_date":{"title":"Update Date","type":"string","format":"date-time"}}},"FamApplicationRole":{"title":"FamApplicationRole","required":["role_name","role_purpose","create_user","role_type_code","role_id"],"type":"object","properties":{"role_name":{"title":"Role Name","type":"string"},"role_purpose":{"title":"Role Purpose","type":"string"},"parent_role_id":{"title":"Reference role_id to higher role","type":"integer"},"application_id":{"title":"Application this role is associated with","type":"integer"},"forest_client_number":{"title":"Forest Client this role is associated with","type":"string"},"create_user":{"title":"Create User","type":"string"},"role_type_code":{"title":"Role Type Code","type":"string"},"client_number":{"$ref":"#/components/schemas/FamForestClientCreate"},"role_id":{"title":"Role Id","type":"integer"}}},"FamApplicationUserRoleAssignmentGet":{"title":"FamApplicationUserRoleAssignmentGet","required":["user_role_xref_id","user_id","role_id","user","role"],"type":"object","properties":{"user_role_xref_id":{"title":"User Role Xref Id","type":"integer"},"user_id":{"title":"User Id","type":"integer"},"role_id":{"title":"Role Id","type":"integer"},"application_id":{"title":"Application Id","type":"integer"},"user":{"$ref":"#/components/schemas/FamUserOnlyName"},"role":{"$ref":"#/components/schemas/FamRoleWithClient"}}},"FamForestClient":{"title":"FamForestClient","required":["forest_client_number"],"type":"object","properties":{"forest_client_number":{"title":"Forest Client Number","type":"string"}}},"FamForestClientCreate":{"title":"FamForestClientCreate","required":["forest_client_number","create_user"],"type":"object","properties":{"forest_client_number":{"title":"Forest Client Number","type":"string"},"create_user":{"title":"Create User","type":"string"}}},"FamRoleCreate":{"title":"FamRoleCreate","required":["role_name","role_purpose","create_user","role_type_code"],"type":"object","properties":{"role_name":{"title":"Role Name","type":"string"},"role_purpose":{"title":"Role Purpose","type":"string"},"parent_role_id":{"title":"Reference role_id to higher role","type":"integer"},"application_id":{"title":"Application this role is associated with","type":"integer"},"forest_client_number":{"title":"Forest Client this role is associated with","type":"string"},"create_user":{"title":"Create User","type":"string"},"role_type_code":{"title":"Role Type Code","type":"string"},"client_number":{"$ref":"#/components/schemas/FamForestClientCreate"}}},"FamRoleGet":{"title":"FamRoleGet","required":["role_name","role_purpose","create_user","role_type_code","role_id"],"type":"object","properties":{"role_name":{"title":"Role Name","type":"string"},"role_purpose":{"title":"Role Purpose","type":"string"},"parent_role_id":{"title":"Reference role_id to higher role","type":"integer"},"application_id":{"title":"Application this role is associated with","type":"integer"},"forest_client_number":{"title":"Forest Client this role is associated with","type":"string"},"create_user":{"title":"Create User","type":"string"},"role_type_code":{"title":"Role Type Code","type":"string"},"client_number":{"$ref":"#/components/schemas/FamForestClientCreate"},"role_id":{"title":"Role Id","type":"integer"},"update_user":{"title":"Update User","type":"string"},"create_date":{"title":"Create Date","type":"string","format":"date-time"},"update_date":{"title":"Update Date","type":"string","format":"date-time"},"application":{"$ref":"#/components/schemas/FamApplication"}}},"FamRoleWithClient":{"title":"FamRoleWithClient","required":["role_name","role_purpose","create_user","role_type_code","role_id"],"type":"object","properties":{"role_name":{"title":"Role Name","type":"string"},"role_purpose":{"title":"Role Purpose","type":"string"},"parent_role_id":{"title":"Reference role_id to higher role","type":"integer"},"application_id":{"title":"Application this role is associated with","type":"integer"},"forest_client_number":{"title":"Forest Client this role is associated with","type":"string"},"create_user":{"title":"Create User","type":"string"},"role_type_code":{"title":"Role Type Code","type":"string"},"client_number":{"$ref":"#/components/schemas/FamForestClient"},"role_id":{"title":"Role Id","type":"integer"}}},"FamUser":{"title":"FamUser","required":["user_type_code","user_name","create_user"],"type":"object","properties":{"user_type_code":{"$ref":"#/components/schemas/UserType"},"cognito_user_id":{"title":"Cognito User Id","type":"string"},"user_name":{"title":"User Name","type":"string"},"user_guid":{"title":"User Guid","type":"string"},"create_user":{"title":"Create User","type":"string"},"update_user":{"title":"Update User","type":"string"}}},"FamUserGet":{"title":"FamUserGet","required":["user_type_code","user_name","create_user","user_id","create_date"],"type":"object","properties":{"user_type_code":{"$ref":"#/components/schemas/UserType"},"cognito_user_id":{"title":"Cognito User Id","type":"string"},"user_name":{"title":"User Name","type":"string"},"user_guid":{"title":"User Guid","type":"string"},"create_user":{"title":"Create User","type":"string"},"update_user":{"title":"Update User","type":"string"},"user_id":{"title":"User Id","type":"integer"},"create_date":{"title":"Create Date","type":"string","format":"date-time"},"update_date":{"title":"Update Date","type":"string","format":"date-time"},"role":{"$ref":"#/components/schemas/FamRoleCreate"}}},"FamUserOnlyName":{"title":"FamUserOnlyName","required":["user_type_code","user_name","create_user","user_type"],"type":"object","properties":{"user_type_code":{"$ref":"#/components/schemas/UserType"},"cognito_user_id":{"title":"Cognito User Id","type":"string"},"user_name":{"title":"User Name","type":"string"},"user_guid":{"title":"User Guid","type":"string"},"create_user":{"title":"Create User","type":"string"},"update_user":{"title":"Update User","type":"string"},"user_type":{"$ref":"#/components/schemas/FamUserType"}}},"FamUserRoleAssignmentCreate":{"title":"FamUserRoleAssignmentCreate","required":["user_name","user_type_code","role_id"],"type":"object","properties":{"user_name":{"title":"User Name","type":"string"},"user_type_code":{"$ref":"#/components/schemas/UserType"},"role_id":{"title":"Role Id","type":"integer"},"forest_client_number":{"title":"Forest Client Number","type":"string"}}},"FamUserRoleAssignmentGet":{"title":"FamUserRoleAssignmentGet","required":["user_role_xref_id","user_id","role_id","application_id"],"type":"object","properties":{"user_role_xref_id":{"title":"User Role Xref Id","type":"integer"},"user_id":{"title":"User Id","type":"integer"},"role_id":{"title":"Role Id","type":"integer"},"application_id":{"title":"Application Id","type":"integer"}}},"FamUserType":{"title":"FamUserType","required":["code","description"],"type":"object","properties":{"code":{"$ref":"#/components/schemas/UserType"},"description":{"title":"Description","type":"string"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"UserType":{"title":"UserType","enum":["I","B"],"type":"string","description":"An enumeration."},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"26tltjjfe7ktm4bte7av998d78":{"type":"oauth2","flows":{"authorizationCode":{"scopes":{},"authorizationUrl":"https://dev-fam-user-pool-domain.auth.ca-central-1.amazoncognito.com/authorize","tokenUrl":"https://dev-fam-user-pool-domain.auth.ca-central-1.amazoncognito.com/token"}}}}},"tags":[{"name":"Forest Access Management - FAM","description":"Controls the user access to different Forest basedapplications and what roles different users will have once logged in"}]}